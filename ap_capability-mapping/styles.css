

/* Layout & theme */
:root{
    --blue:#003366; --bg:#f6f7f9; --panel:#fff; --border:#dfe3e8;
    --highlight:#e3f2fd; --badge:#1976d2; --badgeText:#fff;
    --warn:#fffbe7; --warnBorder:#ffe082; --text:#0f1419; --muted:#5f6a7d;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);
       font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
  .app-header{background:var(--blue);color:#fff;padding:16px}
  .app-header h1{margin:0 0 8px 0;font-size:20px}
  .controls{display:flex;gap:12px;align-items:center}
  .controls select,.controls button{
    background:#0e3c6d;color:#fff;border:1px solid #0a2a4c;border-radius:6px;padding:6px 10px
  }
  .controls button:hover{background:#10457c}
  
  .app-main{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px}
  .panel{background:var(--panel);border:1px solid var(--border);border-radius:10px;min-height:320px}
  .section-title{margin:0;padding:12px;border-bottom:1px solid var(--border);color:var(--muted);font-size:14px}
  .taxonomy{padding:10px 12px}
  .details{padding:12px}
  .panel-details .details{background:var(--warn);border:1px dashed var(--warnBorder);border-radius:8px}
  .empty{color:var(--muted)}
  .status{display:block;padding:8px 12px;color:var(--muted)}
  
  /* Nodes */
  .capability{cursor:pointer;padding:6px 8px;border-radius:6px}
  .capability:hover{background:var(--highlight)}
  .level-0{font-weight:700;margin-top:12px}
  .level-1{font-weight:600}
  .level-2{margin-left:24px}
  .selected{background:#c4e2ff !important}
  
  /* Collapsible Level-1 block */
  .l1-block{margin-left:12px;margin-top:4px}
  .l1-header{
    display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:6px
  }
  .l1-header:hover{background:var(--highlight)}
  .caret{
    width:0;height:0;border-style:solid;border-width:6px 4px 6px 0;
    border-color:transparent var(--muted) transparent transparent;
    transition:transform .15s ease;
  }
  .caret.open{transform:rotate(90deg)}
  .l2-list{margin-top:4px}
  .l2-list.collapsed{display:none}
  
  /* Badges (counters) */
  .count-badge{
    margin-left:auto; display:inline-flex; align-items:center; gap:6px;
    background:#eef3fb; color:#283747; border:1px solid #cbd5e1;
    border-radius:999px; padding:2px 8px; font-size:12px;
  }
  .count-badge .strong{font-weight:700}
  .count-badge .sep{color:#94a3b8}
  .badges{margin-top:10px}
  .platform-badge{
    display:inline-block;background:var(--badge);color:var(--badgeText);
    border-radius:999px;padding:2px 10px;margin:3px 6px 3px 0;font-size:12px
  }
  